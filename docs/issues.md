- 编译器采用的是llvm tutoriol中给ast的节点类加上codegen方法的模式，然后在root上调用codegen可以递归生成整个IR。虽然这样简单，但这种模式极大增加了模块耦合程度。

    理想的方法应该是ast模块只提供一棵语法树，由CodeGenerator模块全面负责语法树转化为IR的过程。\
    
- 符号表问题

  目前是function、type、variable的符号表采用的是一张（但可以确定类型），不允许任何重名。
  
  这样可以更clear，但更容易命名冲突。可以像C一样用多个符号表。
  
  另外目前的符号表是复制模式，消耗大，可以改为二叉树模式。
  
- 全局变量初始化问题

    全局变量只能用常量初始化。

    在初始化时，理论上不应该属于任何basic block。但为了检测是否纯在常量情况，解决方法是构建临时的bb，在bb里codegen初始化的表达式，如果发现bb的size大于0了，认为不是常量初始化，报错。

    这种方法不是很graceful。

- array问题

    如何看待数组，看成const ptr吗？传值、赋值等情况中，怎么理解？

    难以初始化！

- const问题（下一个重点）

    如何实现const逻辑？llvm貌似没有提供。

    如何实现特殊语法ptr< const >逻辑？

- OOP问题

    如何实现struct的成员函数？
    
- 宏问题

    希望能实现简单的#define(不必支持宏函数)和#include，支持多文件。